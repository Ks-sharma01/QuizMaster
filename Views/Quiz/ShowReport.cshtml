 @*

 @model QuizDishtv.Models.QuizViewModel 
@{ 
    ViewData["Title"] = "Report"; 

} 
<h2 class="text-center">Quiz Report</h2> 

<h3 >Score: @TempData["Score"] of @Model.Questions.Count</h3> 

<table class="table"> 
     <thead> 
         <tr> 
             <th>Question</th> 
             <th>Your Answer</th> 
             <th>Correct Answer</th> 
         </tr> 
     </thead> 
     <tbody> 
         @foreach(var question in Model.Questions) 
         { 
             var userAnswer = Model.UserAnswers.ContainsKey(question.QuestionId) 
             ? Model.UserAnswers[question.QuestionId] 
             : (int?)null; 
             var correctAnswer = question.Answers.FirstOrDefault(a => a.IsCorrect)?.Text; 
             <tr> 
                 <td>@question.QuestionId) @question.Text</td> 
                 <td>@(userAnswer.HasValue ? question.Answers.FirstOrDefault(a => a.AnswerId ==userAnswer)?.Text: "No Answer")</td> 
                 <td>@correctAnswer</td> 
             </tr> 
         } 
     </tbody> 

<a asp-action="SelectQuiz" class="btn btn-danger">Re-Attempt</a> 
 </table> 

 *@

@* @model QuizDishtv.Models.QuizViewModel 
@* @{ 
@*     ViewData["Title"] = "Report"; 
   
@* } 


@*     <style> *@
@*         /* .container { */ *@
@*         /*     margin-top: 20px; */ *@
@*         /* } */ *@

@*         h2 { *@
@*             margin-bottom: 20px; *@
@*             color: #495057; *@
@*         } *@

@*         table { *@
@*             margin-top: 20px; *@
@*             background-color: white; *@
@*             border-radius: 5px; *@
@*             overflow: hidden; *@
@*             box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); *@
@*         } *@

@*         thead { *@
@*             background-color: #6c63ff; *@
@*             color: white; *@
@*         } *@

@*         th, td { *@
@*             text-align: center; *@
@*             vertical-align: middle; *@
@*         } *@

@*         .score-box { *@
@*             font-size: 1.2em; *@
@*             padding-top: 10px; *@
@*             background-color: #fff; *@
@*             border: 1px solid #dee2e6; *@
@*             border-radius: 5px; *@
@*             box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); *@
@*         } *@
@*     </style> *@

@*     <div class="container"> *@
@*         <h2 class="text-center">Quiz Report</h2> *@
@*         <div class="score-box text-center"> *@
@*             <h3>Score: @Model.Score of @Model.Questions.Count</h3> *@
@*         </div> *@
@*         <div> *@
@*             <a href="/Quiz/Index" class="btn btn-danger">Re-Attempt</a> *@
@*         </div> *@
@*         <table class="table table-striped table-hover"> *@
@*             <thead> *@
@*                 <tr> *@
@*                     <th>Question</th> *@
@*                     <th>Your Answer</th> *@
@*                     <th>Correct Answer</th> *@
@*                 </tr> *@
@*             </thead> *@
@*             <tbody> *@
@*                 @foreach (var question in Model.Questions) *@
@*                 { *@
@*                     var userAnswer = Model.UserAnswers.ContainsKey(question.QuestionId) *@
@*                     ? Model.UserAnswers[question.QuestionId] *@
@*                     : (int?)null; *@
@*                     var correctAnswer = question.Answers.FirstOrDefault(a => a.IsCorrect)?.Text; *@
@*                     <tr> *@
@*                         <td>@question.QuestionId) @question.Text</td> *@
@*                         <td> *@
@*                             @(userAnswer.HasValue *@
@*                                 ? question.Answers.FirstOrDefault(a => a.AnswerId == userAnswer)?.Text *@
@*                                 : "No Answer") *@
@*                         </td> *@
@*                         <td>@correctAnswer</td> *@
@*                     </tr> *@
@*                 } *@
@*             </tbody> *@
@*         </table> *@
@*     </div> *@

@model List<QuizDishtv.Models.UserAnswer>

<table class="table table-bordered">
    <thead>
        <tr>
            <th>Question</th>
            <th>Your Answer</th>
            <th>Correct?</th>
            <th>Status</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var answer in Model)
        {
            <tr>
                <td>@answer.Question.Text</td>
                <td>@answer.SelectedAnswer.Text</td>
                <td>@answer.SelectedAnswer.IsCorrect</td>
                <td>
                    @if (answer.SelectedAnswer.IsCorrect)
                    {
                        <span style="color: green;">Correct ✅</span>
                    }
                    else
                    {
                        <span style="color: red;">Wrong ❌</span>
                    }
                </td>
            </tr>
        }
    </tbody>

</table>
<a asp-controller="Quiz" asp-action="Categories" class="btn btn-success"> &#11013; Attempt Again</a>


